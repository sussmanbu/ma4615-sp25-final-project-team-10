{
  "hash": "ff7f7c3882fce586512db8c5573c8180",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post 8\"\ndescription: \"Interactive exploration of Cook County exonerations and crime data\"\nauthor: \"Team 10 (Mango)\"\ndate: \"2025-03-24\"\nformat: html\neditor: visual\nexecute:\n  echo: true\n  message: false\n  warning: false\nruntime: shiny\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load libraries and cleaned data\nlibrary(tidyverse)\nlibrary(here)\n\nexon <- read_rds(here(\"dataset\", \"exoneration_data_cook.rds\"))\ncrime <- read_rds(here(\"dataset-ignore\", \"crime_data_2010.rds\"))\n\n# 1. Prepare exoneration trends by year\nexon_trends <- exon %>%\n  mutate(Exonerated = as.integer(Exonerated)) %>%\n  filter(!is.na(Exonerated)) %>%\n  count(Year = Exonerated) %>%\n  mutate(Data = \"Exonerations\")\n\n# 2. Map crime types to broader categories\nviolent_types <- c(\n  \"HOMICIDE\", \"CRIM SEXUAL ASSAULT\", \"SEX OFFENSE\", \"OFFENSE INVOLVING CHILDREN\",\n  \"ASSAULT\", \"ROBBERY\"\n)\n\ncrime_cat <- crime %>%\n  mutate(Category = if_else(`Primary Type` %in% violent_types, \"Violent\", \"Nonviolent\"))\n\n# 3. Summarize crime trends by year\ncrime_trends <- crime_cat %>%\n  count(Year, Category) %>%\n  # total crimes per year for comparison\n  group_by(Year) %>%\n  summarize(Count = sum(n), .groups = \"drop\") %>%\n  mutate(Data = \"Crimes\")\n\n# 4. Combine both trends into one dataset\ncombined_trends <- bind_rows(\n  exon_trends %>% rename(Count = n),\n  crime_trends\n)\n\n# 5. Plot both on the same chart\nggplot(combined_trends, aes(x = Year, y = Count, color = Data)) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  labs(\n    title = \"Cook County: Crimes vs Exonerations Over Time\",\n    x = \"Year\",\n    y = \"Count\",\n    color = \"Data Type\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](BlogPost8_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(here)\n\n# Load cleaned data\nexon <- read_rds(here(\"dataset\", \"exoneration_data_cook.rds\")) %>%\n  mutate(Year = as.integer(Exonerated)) %>%\n  filter(!is.na(Year)) %>%\n  count(Year) %>%\n  rename(Count = n) %>%\n  mutate(Data = \"Exonerations\")\n\ncrime <- read_rds(here(\"dataset-ignore\", \"crime_data_2010.rds\")) %>%\n  count(Year) %>%\n  rename(Count = n) %>%\n  mutate(Data = \"Crimes\")\n\ncombined <- bind_rows(exon, crime)\n\n# Side-by-side with free y-scales\nggplot(combined, aes(x = Year, y = Count)) +\n  geom_line() +\n  geom_point() +\n  facet_wrap(~ Data, scales = \"free_y\", ncol = 2) +\n  labs(\n    title = \"Cook County: Crimes vs. Exonerations Over Time\",\n    x = \"Year\",\n    y = \"Count\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](BlogPost8_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n:::\n",
    "supporting": [
      "BlogPost8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}